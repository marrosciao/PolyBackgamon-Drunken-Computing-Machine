#The Target Binary Program
TARGET        := PolyBackgammon
 
GUISRCDIR := interface/$(SRCDIR)

LDFLAGS       += 
LDLIBS        += -ldl -lSDL #`sdl-config --cflag --libs`#voir les lib qu'il manque
 
#---------------------------------------------------------------------------------
#DO NOT EDIT BELOW THIS LINE
#---------------------------------------------------------------------------------
SOURCES       := $(wildcard $(GUISRCDIR)/*.c)
SOURCES       += main.c
OBJECTS       := $(patsubst $(GUISRCDIR)/%,$(BUILDDIR)/%,$(SOURCES:.c=.o))
DEBUG         ?= 1
 
ifeq ($(DEBUG), 1)
	CFLAGS += $(CFLAGS_DEBUG)
else
	CFLAGS += $(CFLAGS_PROD)
endif
 
all: $(targetdir)/$(target)
	@echo "${green}${bold}compilation de l'interface graphique${reset}"
 
$(builddir)/%.o: $(guisrcdir)/%.c
	@mkdir -p $(@d)
	@echo "${blue}compilation de $< ${reset}"
	@$(cc) -c $< $(cflags) $(cppflags) -o $@
 
$(targetdir)/$(target): $(objects)
	@echo "${blue}crÃ©ation de l'executable${reset}"
	@$(cc) $(ldflags) -o $(targetdir)/$(target) $^ $(ldlibs)
 
clean:
	$(RM) -r $(BUILDDIR) *.o
	$(RM) $(TARGETDIR)/$(TARGET)
 
-include $(OBJECTS:.o=.d)
 
.PHONY: all clean check

